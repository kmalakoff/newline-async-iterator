!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("index-of-newline")):"function"==typeof define&&define.amd?define(["index-of-newline"],n):(e="undefined"!=typeof globalThis?globalThis:e||self).newlineAsyncIterator=n(e.indexOfNewline)}(this,(function(e){"use strict";var n=function(e){for(var n,t="",r=e.length,o=0;o<r;o++)n=e[o],t+=String.fromCharCode(n>251&&n<254&&o+5<r?1073741824*(n-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>247&&n<252&&o+4<r?(n-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>239&&n<248&&o+3<r?(n-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>223&&n<240&&o+2<r?(n-224<<12)+(e[++o]-128<<6)+e[++o]-128:n>191&&n<224&&o+1<r?(n-192<<6)+e[++o]-128:n);return t};if("undefined"!=typeof TextDecoder){var t=new TextDecoder("utf8");n=function(e){return t.decode(e)}}var r=n,o="undefined"!=typeof Symbol&&Symbol.asyncIterator;return function(n){var t="",i=!1,u=o?n[Symbol.asyncIterator]():n;function f(){return new Promise((function(n,o){var d=e(t,0,!0),a=d[0],c=d[1];return a>=0&&(a!==t.length-1||"\n"===t[a])||i?n([a,c]):void u.next().then((function(e){e.done&&(i=!0),void 0!==e.value&&(t+=r(e.value)),f().then(n).catch(o)}))}))}var d={next:function(){return new Promise((function(e,n){f().then((function(n){var r=n[0],o=n[1];if(r<0){if(!t.length)return e({value:void 0,done:!0});var i={value:t,done:!1};return t="",e(i)}var u=t.substr(0,r);return t=t.substr(r+o),e({value:u,done:!1})})).catch(n)}))}};return o&&(d[Symbol.asyncIterator]=function(){return this}),d}}));
//# sourceMappingURL=newline-async-iterator.min.js.map
