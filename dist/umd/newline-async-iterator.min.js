!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("index-of-newline")):"function"==typeof define&&define.amd?define(["index-of-newline"],n):(e="undefined"!=typeof globalThis?globalThis:e||self).newlineAsyncIterator=n(e.indexOfNewline)}(this,(function(e){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=n(e);function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,u=[],i=!0,a=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(u.push(r.value),!n||u.length!==n);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(a)throw o}}return u}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var u=function(e){for(var n,t="",r=e.length,o=0;o<r;o++)n=e[o],t+=String.fromCharCode(n>251&&n<254&&o+5<r?1073741824*(n-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>247&&n<252&&o+4<r?(n-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>239&&n<248&&o+3<r?(n-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>223&&n<240&&o+2<r?(n-224<<12)+(e[++o]-128<<6)+e[++o]-128:n>191&&n<224&&o+1<r?(n-192<<6)+e[++o]-128:n);return t};if("undefined"!=typeof TextDecoder){var i=new TextDecoder("utf8");u=function(e){return i.decode(e)}}var a=u;return function(e){var n,o,u,i="",f=!1,l=e[Symbol.asyncIterator]();function c(){return new Promise((function(e,n){var o=r(t.default(i,0,!0),2),u=o[0],d=o[1];return u>=0&&(u!==i.length-1||"\n"===i[u])||f?e([u,d]):void l.next().then((function(t){t.done&&(f=!0),void 0!==t.value&&(i+=a(t.value)),c().then(e).catch(n)}))}))}return n={next:function(){return new Promise((function(e,n){c().then((function(n){var t=r(n,2),o=t[0],u=t[1];if(o<0){if(!i.length)return e({value:void 0,done:!0});var a={value:i,done:!1};return i="",e(a)}var f=i.substr(0,o);return i=i.substr(o+u),e({value:f,done:!1})})).catch(n)}))}},o=Symbol.asyncIterator,u=function(){return this},o in n?Object.defineProperty(n,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[o]=u,n}}));
//# sourceMappingURL=newline-async-iterator.min.js.map
