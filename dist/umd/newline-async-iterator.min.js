!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).newlineAsyncIterator=t()}(this,(function(){"use strict";var n=function(n){for(var t,e="",r=n.length,o=0;o<r;o++)t=n[o],e+=String.fromCharCode(t>251&&t<254&&o+5<r?1073741824*(t-252)+(n[++o]-128<<24)+(n[++o]-128<<18)+(n[++o]-128<<12)+(n[++o]-128<<6)+n[++o]-128:t>247&&t<252&&o+4<r?(t-248<<24)+(n[++o]-128<<18)+(n[++o]-128<<12)+(n[++o]-128<<6)+n[++o]-128:t>239&&t<248&&o+3<r?(t-240<<18)+(n[++o]-128<<12)+(n[++o]-128<<6)+n[++o]-128:t>223&&t<240&&o+2<r?(t-224<<12)+(n[++o]-128<<6)+n[++o]-128:t>191&&t<224&&o+1<r?(t-192<<6)+n[++o]-128:t);return e};if("undefined"!=typeof TextDecoder){var t=new TextDecoder("utf8");n=function(n){return t.decode(n)}}var e=n;function r(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function o(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,i=[],u=!0,f=!1;try{for(e=e.call(n);!(u=(r=e.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(n){f=!0,o=n}finally{try{u||null==e.return||e.return()}finally{if(f)throw o}}return i}}(n,t)||function(n,t){if(!n)return;if("string"==typeof n)return r(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return r(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i="undefined"!=typeof Symbol&&Symbol.asyncIterator;return function(n){var t="",r=!1,u=i?n[Symbol.asyncIterator]():n;function f(){return new Promise((function(n,i){var a=o(function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<0)throw new Error("Unexpected negative offset");if(t>n.length)throw new Error("Offset is longer than the string. Offset: ".concat(t,". String: ").concat(n.length));for(;t<n.length;){var r=n[t];if("\n"===r)return e?[t,1]:t;if("\r"===r)return e?[t,"\n"===n[t+1]?2:1]:t;t++}return e?[-1,0]:-1}(t,0,!0),2),l=a[0],c=a[1];return l>=0&&(l!==t.length-1||"\n"===t[l])||r?n([l,c]):void u.next().then((function(o){o.done&&(r=!0),void 0!==o.value&&(t+=e(o.value)),f().then(n).catch(i)}))}))}var a={next:function(){return new Promise((function(n,e){f().then((function(e){var r=o(e,2),i=r[0],u=r[1];if(i<0){if(!t.length)return n({value:void 0,done:!0});var f={value:t,done:!1};return t="",n(f)}var a=t.substr(0,i);return t=t.substr(i+u),n({value:a,done:!1})})).catch(e)}))}};return i&&(a[Symbol.asyncIterator]=function(){return this}),a}}));
//# sourceMappingURL=newline-async-iterator.min.js.map
