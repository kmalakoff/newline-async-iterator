!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).newlineAsyncIterator=n()}(this,(function(){"use strict";var e=function(e){for(var n,t="",r=e.length,o=0;o<r;o++)n=e[o],t+=String.fromCharCode(n>251&&n<254&&o+5<r?1073741824*(n-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>247&&n<252&&o+4<r?(n-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>239&&n<248&&o+3<r?(n-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>223&&n<240&&o+2<r?(n-224<<12)+(e[++o]-128<<6)+e[++o]-128:n>191&&n<224&&o+1<r?(n-192<<6)+e[++o]-128:n);return t};if("undefined"!=typeof TextDecoder){var n=new TextDecoder("utf8");e=function(e){return n.decode(e)}}var t=e,r="undefined"!=typeof Symbol&&Symbol.asyncIterator;return function(e){var n="",o=!1,i=r?e[Symbol.asyncIterator]():e;function f(){return new Promise((function(e,r){var u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n<0)throw new Error("Unexpected negative offset");if(n>e.length)throw new Error("Offset is longer than the string. Offset: ".concat(n,". String: ").concat(e.length));for(;n<e.length;){var r=e[n];if("\n"===r)return t?[n,1]:n;if("\r"===r)return t?[n,"\n"===e[n+1]?2:1]:n;n++}return t?[-1,0]:-1}(n,0,!0),a=u[0],c=u[1];return a>=0&&(a!==n.length-1||"\n"===n[a])||o?e([a,c]):void i.next().then((function(i){i.done&&(o=!0),void 0!==i.value&&(n+=t(i.value)),f().then(e).catch(r)}))}))}var u={next:function(){return new Promise((function(e,t){f().then((function(t){var r=t[0],o=t[1];if(r<0){if(!n.length)return e({value:void 0,done:!0});var i={value:n,done:!1};return n="",e(i)}var f=n.substr(0,r);return n=n.substr(r+o),e({value:f,done:!1})})).catch(t)}))}};return r&&(u[Symbol.asyncIterator]=function(){return this}),u}}));
//# sourceMappingURL=newline-async-iterator.min.js.map
