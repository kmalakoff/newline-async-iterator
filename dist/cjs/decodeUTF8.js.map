{"version":3,"file":"decodeUTF8.js","names":["decodeUTF8","decode","uint8Array","sView","nPart","nLen","length","nIdx","String","fromCharCode","TextDecoder","decoder","decodeTextDecoder"],"sources":["../../src/decodeUTF8.ts"],"sourcesContent":["/* eslint-disable no-undef */\n// https://developer.mozilla.org/en-US/docs/Glossary/Base64#Solution_2_%E2%80%93_JavaScript's_UTF-16_%3E_UTF-8_%3E_base64\n/* c8 ignore start */\nlet decodeUTF8 = function decode(uint8Array: Uint8Array): string {\n  let sView = \"\";\n\n  for (let nPart, nLen = uint8Array.length, nIdx = 0; nIdx < nLen; nIdx++) {\n    nPart = uint8Array[nIdx];\n    sView += String.fromCharCode(\n      nPart > 251 && nPart < 254 && nIdx + 5 < nLen /* six bytes */\n        ? /* (nPart - 252 << 30) may be not so safe in ECMAScript! So...: */\n          (nPart - 252) * 1073741824 +\n            ((uint8Array[++nIdx] - 128) << 24) +\n            ((uint8Array[++nIdx] - 128) << 18) +\n            ((uint8Array[++nIdx] - 128) << 12) +\n            ((uint8Array[++nIdx] - 128) << 6) +\n            uint8Array[++nIdx] -\n            128\n        : nPart > 247 && nPart < 252 && nIdx + 4 < nLen /* five bytes */\n        ? ((nPart - 248) << 24) +\n          ((uint8Array[++nIdx] - 128) << 18) +\n          ((uint8Array[++nIdx] - 128) << 12) +\n          ((uint8Array[++nIdx] - 128) << 6) +\n          uint8Array[++nIdx] -\n          128\n        : nPart > 239 && nPart < 248 && nIdx + 3 < nLen /* four bytes */\n        ? ((nPart - 240) << 18) +\n          ((uint8Array[++nIdx] - 128) << 12) +\n          ((uint8Array[++nIdx] - 128) << 6) +\n          uint8Array[++nIdx] -\n          128\n        : nPart > 223 && nPart < 240 && nIdx + 2 < nLen /* three bytes */\n        ? ((nPart - 224) << 12) + ((uint8Array[++nIdx] - 128) << 6) + uint8Array[++nIdx] - 128\n        : nPart > 191 && nPart < 224 && nIdx + 1 < nLen /* two bytes */\n        ? ((nPart - 192) << 6) + uint8Array[++nIdx] - 128\n        : /* nPart < 127 ? */ /* one byte */\n          nPart\n    );\n  }\n\n  return sView;\n};\n/* c8 ignore stop */\n\nif (typeof TextDecoder !== \"undefined\") {\n  const decoder = new TextDecoder(\"utf8\");\n  decodeUTF8 = function decodeTextDecoder(uint8Array: Uint8Array): string {\n    return decoder.decode(uint8Array);\n  };\n}\n\nexport default decodeUTF8;\n"],"mappings":";;;;;;;AAAA;AACA;;AACA;AACA,IAAIA,UAAU,GAAG,SAASC,MAAT,CAAgBC,UAAhB,EAAgD;EAC/D,IAAIC,KAAK,GAAG,EAAZ;;EAEA,KAAK,IAAIC,KAAJ,EAAWC,IAAI,GAAGH,UAAU,CAACI,MAA7B,EAAqCC,IAAI,GAAG,CAAjD,EAAoDA,IAAI,GAAGF,IAA3D,EAAiEE,IAAI,EAArE,EAAyE;IACvEH,KAAK,GAAGF,UAAU,CAACK,IAAD,CAAlB;IACAJ,KAAK,IAAIK,MAAM,CAACC,YAAP,CACPL,KAAK,GAAG,GAAR,IAAeA,KAAK,GAAG,GAAvB,IAA8BG,IAAI,GAAG,CAAP,GAAWF;IAAK;IAA9C;IACI;IACA,CAACD,KAAK,GAAG,GAAT,IAAgB,UAAhB,IACIF,UAAU,CAAC,EAAEK,IAAH,CAAV,GAAqB,GAAtB,IAA8B,EADjC,KAEIL,UAAU,CAAC,EAAEK,IAAH,CAAV,GAAqB,GAAtB,IAA8B,EAFjC,KAGIL,UAAU,CAAC,EAAEK,IAAH,CAAV,GAAqB,GAAtB,IAA8B,EAHjC,KAIIL,UAAU,CAAC,EAAEK,IAAH,CAAV,GAAqB,GAAtB,IAA8B,CAJjC,IAKEL,UAAU,CAAC,EAAEK,IAAH,CALZ,GAME,GARN,GASIH,KAAK,GAAG,GAAR,IAAeA,KAAK,GAAG,GAAvB,IAA8BG,IAAI,GAAG,CAAP,GAAWF;IAAK;IAA9C,EACA,CAAED,KAAK,GAAG,GAAT,IAAiB,EAAlB,KACEF,UAAU,CAAC,EAAEK,IAAH,CAAV,GAAqB,GAAtB,IAA8B,EAD/B,KAEEL,UAAU,CAAC,EAAEK,IAAH,CAAV,GAAqB,GAAtB,IAA8B,EAF/B,KAGEL,UAAU,CAAC,EAAEK,IAAH,CAAV,GAAqB,GAAtB,IAA8B,CAH/B,IAIAL,UAAU,CAAC,EAAEK,IAAH,CAJV,GAKA,GANA,GAOAH,KAAK,GAAG,GAAR,IAAeA,KAAK,GAAG,GAAvB,IAA8BG,IAAI,GAAG,CAAP,GAAWF;IAAK;IAA9C,EACA,CAAED,KAAK,GAAG,GAAT,IAAiB,EAAlB,KACEF,UAAU,CAAC,EAAEK,IAAH,CAAV,GAAqB,GAAtB,IAA8B,EAD/B,KAEEL,UAAU,CAAC,EAAEK,IAAH,CAAV,GAAqB,GAAtB,IAA8B,CAF/B,IAGAL,UAAU,CAAC,EAAEK,IAAH,CAHV,GAIA,GALA,GAMAH,KAAK,GAAG,GAAR,IAAeA,KAAK,GAAG,GAAvB,IAA8BG,IAAI,GAAG,CAAP,GAAWF;IAAK;IAA9C,EACA,CAAED,KAAK,GAAG,GAAT,IAAiB,EAAlB,KAA0BF,UAAU,CAAC,EAAEK,IAAH,CAAV,GAAqB,GAAtB,IAA8B,CAAvD,IAA4DL,UAAU,CAAC,EAAEK,IAAH,CAAtE,GAAiF,GADjF,GAEAH,KAAK,GAAG,GAAR,IAAeA,KAAK,GAAG,GAAvB,IAA8BG,IAAI,GAAG,CAAP,GAAWF;IAAK;IAA9C,EACA,CAAED,KAAK,GAAG,GAAT,IAAiB,CAAlB,IAAuBF,UAAU,CAAC,EAAEK,IAAH,CAAjC,GAA4C,GAD5C;IAEA;;IAAoB;IACpBH,KA5BG,CAAT;EA8BD;;EAED,OAAOD,KAAP;AACD,CAtCD;AAuCA;;;AAEA,IAAI,OAAOO,WAAP,KAAuB,WAA3B,EAAwC;EACtC,IAAMC,OAAO,GAAG,IAAID,WAAJ,CAAgB,MAAhB,CAAhB;;EACAV,UAAU,GAAG,SAASY,iBAAT,CAA2BV,UAA3B,EAA2D;IACtE,OAAOS,OAAO,CAACV,MAAR,CAAeC,UAAf,CAAP;EACD,CAFD;AAGD;;eAEcF,U"}